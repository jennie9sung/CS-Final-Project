import java.util.Random;
import java.util.Scanner;

public class WordleGame extends Game {
    private String word;

    // Constructor to initialize the hidden word
    public WordleGame(String hWord) {
        setWord(hWord);
    }

    // Set the hidden word
    public void setWord(String newWord) {
        word = newWord.toLowerCase();
    }

    // Get a random word from a list of possibilities
    public void setRandomWord(String[] possibleWords) {
        Random random = new Random();
        word = possibleWords[random.nextInt(possibleWords.length)].toLowerCase();
    }

    // Method to get hints based on user guesses
    public String getHint(String guess) {
        String hint = "";

        // Iterate through each character in the guess
        for (int i = 0; i < guess.length(); i++) {
            // Compare the guessed character with the corresponding character in the hidden word
            if (guess.substring(i, i + 1).equals(word.substring(i, i + 1))) {
                // If the characters match, add the guessed character to the hint
                hint += guess.substring(i, i + 1);
            } else if (word.indexOf(guess.substring(i, i + 1)) != -1) {
                // If the guessed character exists in the hidden word but not in the correct position, add "+"
                hint += "+";
            } else {
                // If the guessed character is not in the hidden word, add "*"
                hint += "*";
            }
        }

        // Return the final hint
        return hint;
    }

    // Method to get user input for guessed word
    public String getUserGuess() {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Enter your guess: ");
        return scanner.nextLine().toLowerCase();
    }

    // Getter for the hidden word (useful for testing)
    public String getWord() {
        return word;
    }

    // Main game loop
    public void playGame() {
        Scanner scanner = new Scanner(System.in);

   
        // Initialize the WordleGame with a random word from the list
        String[] possibleWords = {
        	    "apple", "table", "world", "drink", "paint", "truck", "about", "above", "abuse", "actor", "acute",
        	    "admit", "adopt", "adult", "after", "begun", "being", "below", "bench", "broke", "brown", "build",
        	    "civil", "claim", "class", "clean", "clear", "click", "clock", "close", "coach", "coast"
        	};

        setRandomWord(possibleWords);

        // Get hints based on the initial state (all underscores)
       
        System.out.println("Initial Hint: " + getHint("_____"));

        // Game loop
        int attempts = 0;
        int points = 100; 
        while (attempts < 6) {
            // Get user input for guessed word
            String userGuess = getUserGuess();

            // Get hints based on the user's guess
            String hint = getHint(userGuess);

            // Display the hint
            System.out.println("Hint: " + hint);

            // Check if the user guessed the word
            if (getWord().equals(userGuess)) {
                System.out.println("Congratulations! You've guessed the word.");
                points+= 0; 
                System.out.println(" You have " + points + "points!");
                System.out.println("Hidden Word: " + getWord());
                break;
            }

            attempts++;
            System.out.println("Attempts remaining: " + (6 - attempts));
           points = 100 - ((attempts-1) * 20); 
           System.out.println(" You have " + points + " points!");
        }

        // Check if the player ran out of attempts
        if (attempts == 6) {
        	points+=0; 
        	  System.out.println(" You have " + points + "points!");
            System.out.println("Sorry, you've run out of attempts. The word was: " + getWord());
        }

        scanner.close();
    }
    


    public static void main(String[] args)  {
        WordleGame wordleGame = new WordleGame("");
        wordleGame.instruction(3);
        wordleGame.playGame();
      
    }
}

